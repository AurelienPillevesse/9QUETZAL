{% extends 'base.html.twig' %}

{% block body %}
<div class="container">
    <div class="row col-md-12">
        <h1><span>Welcome to</span> ListPost</h1>
    </div>
    {% for joke in jokes %}
    <div class="row">
        <div class="row col-md-6">
            <div class="row">
                <h3><a href="/jokepost/{{ joke.id }}">{{ joke.title }}</a></h3>
                <img src="{{ asset('uploads/jokepost/' ~ joke.img) }}"  style="height: 100%; width: auto; max-width: 100%;">
            </div>
            <div class="row">
                {{ joke.upvotes }} likes
                {{ joke.downvotes }} dislikes
            </div>
        </div>

            <div class="row col-md-6" style="margin-top:50px;">
                  {% set opacity = 1 %}
                      {% for comment in joke.comments |slice(0,6) %}
                      <div class="row">
                          <div class="alert alert-success" role="alert" style="opacity:{{ opacity }};">
                                <strong>{{ comment.user.username }} say:</strong> {{ comment.content }}
                              </div>
                          </div>
                      {% set opacity = opacity - 0.20 %}
                          {% endfor %}
        </div>
    </div>
    {% else %}
    <div class="row">

        <div class="row col-md-6">
        No post submitted yet!
        </div>
    </div>
    {% endfor %}
</div>
{% endblock %}
